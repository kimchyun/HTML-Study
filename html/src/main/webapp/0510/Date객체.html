<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/mystyle.css">

<script>

today = new Date();

function proc1(){
	
//    myday = new Date("2000.05.27");
//    myday = new Date(2000,05-1, 27);
      myday = new Date(2020, 4, 8);
   
   
   // getTime()을 이용해서 millisec값 구하기
   totime = today.getTime();
   mytime = myday.getTime();
   
   console.log(totime, mytime);
   
   times = totime - mytime;
   
   years = times / 1000 / 60 / 60 / 24 / 365;
   years = parseInt(years);
   
   str = `오늘 : ${today.toLocaleString()} <br>`;
//    str += `나의 생일 : ${myday.toLocaleString()} <br>`;
   str += `우리 만난 날 : ${myday.toLocaleString()} <br>`;
   str += `지금까지 ${years}년째 살고 있습니다`;
   
   document.getElementById('result1').innerHTML = str;
   
}

proc2 = () => {
	// 현재 날짜의 getTime - millisec값
	totime = today.getTime();
	
	// 100일에 대한 millisec값 구하기
	after100 = 100 * 1000 * 60 * 60 * 24;
	
	console.log(totime, after100);
	
	times = totime + after100
	day100 = new Date(times);
	
	str = `오늘은 : ${today.toLocaleString()} <br>`;
	str += `100일 후는 : ${day100.toLocaleString()} <br>`;
	
	document.getElementById('result2').innerHTML = str;
	
	
}

proc3 = () => {
	
	// id=sel인 요소로 접근(검색) - 선택한 날을 가져온다 - value - 결과값은 String
	selvalue = document.getElementById('sel').value;
	
	// selvalue변수로 Date객체를 생성한다.
	selday = new Date(selvalue);
	
	// 오늘과 선택한 날의 간격을 구한다.
	// 오늘의 getTime() - 선택한 날의 getTime();   - // 총 millisec값을 구했다
	times = today.getTime() - selday.getTime();
	
	// 총 millisec값을 가지고 / 10000 / 60 / 60 / 24 - 며칠의 결과값을 얻었다
	days = times / 1000 / 60 / 60 / 24;
	
	// 비교 - 7일이 경과했는 지 안 했는 지 
	if(days > 7) {
		res = "교환/환불 불가능"
	} else {
		res = "교환/환불 가능"
	}
	
	// 출력
	str = `구입 날짜 : ${selday.toLocaleDateString()} <br>`;
	str += `오늘 날짜 : ${today.toLocaleDateString()} <br>`;
	str += res;
	
	// id=result3인 요소를 검색하여 출력
	document.getElementById('result3').innerHTML = str;
}
</script>

</head>
<body>

<div class="box">
 <h3>태어난 날로부터 현재까지의 날 수 구하기</h3>

 <input type="button" value="확인" onclick="proc1()">
 <div id="result1" class="result"></div>
</div>


<div class="box">
 <h3>현재로부터 100일 후의 날짜 구하기</h3>

 <input type="button" value="확인" onclick="proc2()">
 <div id="result2" class="result"></div>
</div>

<div class="box">
 <h3>구입 날짜를 선택하여 7일이 경과했는 지 비교</h3>
 <h3>7일을 기준으로 교환/환불 가능/불가능을 출력한다</h3>
 
 구입날짜 선택 : <input type="date" id="sel">
 <input type="button" value="확인" onclick="proc3()">
 <div id="result3" class="result"></div>
</div>

</body>
</html>