<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/mystyle.css">
<script>
proc1 = () => {
	
	// 입력
	input = prompt("입력하세요");
	
	// 각 자리별로 자르기
	yy = input.substr(0,2);       // input.substring(0,2);
	mm = input.substr(2,2);       // input.substring(2,4);
	dd = input.substr(4,2);       // input.substring(4,6);
 	gg = input.substr(7,1);       // input.substring(7,8);
	
	// 성별 비교
	if(gg == "1" || gg == "3") {
		gender = "남자"
	} else if(gg == "2" || gg == "4") {
		gender = "여자"
	}
	
	// 2000 / 1900년대인 지 비교
	if(gg == "1" || gg == "2") {
// 		year = 1900 + parseInt(yy);  // 숫자
		year = "19" + yy;    // 문자
	} else if(gg == "2" || gg == "4") {   
// 		year = 2000 + parseInt(yy);  // 숫자
		year = "20" + yy;    // 문자
	}
	
	// 나이 계산
	today = new Date();
	toyear = today.getFullYear();
	
	age = toyear - year
	
	// 출력내용
	code = input.substr(0,8);
	
	str = `주민번호 : ${code}****** <br>`;
	str += `생년월일 : ${year}년 ${mm}월 ${dd}일 <br>`;
	str += `성별 : ${gender} <br>`;
	str += `나이 : ${age}`;
	
	document.getElementById('result1').innerHTML = str;
// 	document.querySelector('#result1').innerHTML = str;
}

proc2 = () => {
	
	multi = "234567892345";
	
	// 입력
	input = prompt("입력하세요");           // 110203-4123456
	incode = input.replace("-", "");     // 1102034123456
	
	console.log(input, incode);
	
	sum = 0;
	
	for(i=0; i<multi.length; i++) {
		
		sum += incode.substr(i, 1) * multi.substr(i, 1);
	}
	
	res = 11 - sum % 11;   // 0~11
	
	if(res == 10) res = 0;
	if(res == 11) res = 1;
	// 최종 res = 0 ~ 9
	
	if(incode.substr(12,1) == res) {
		a = "진짜";
	}else{
		a = "가짜";
	}
	
	// 출력
	str = input.substr(0, 8) + "******<br>";
	str += a;
	
	document.getElementById('result2').innerHTML = str;
}
</script>
</head>
<body>

<div class="box">
 <h3>
 prompt로 주민등록번호를 입력 받아 생년월일과 성별, 나이를 출력하는 프로그램을 작성하시오. <br>
 예) 주민등록번호를 110326-4432618로 입력 받은 경우 <br>
 생일 : 2011년 3월 26일 <br>
 성별 : 여자 <br>
 나이 : 12
 </h3>

 <input type="button" value="확인" onclick="proc1()">
 <div id="result1" class="result"></div>
</div>


<div class="box">
 <h3>
 주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오. <br>
 (110615-4123456)
 </h3>

 <input type="button" value="확인" onclick="proc2()">
 <div id="result2" class="result"></div>
</div>

</body>
</html>